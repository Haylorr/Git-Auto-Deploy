<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Git-Auto-Deploy by olipo186</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Git-Auto-Deploy</h1>
      <h2 class="project-tagline">Deploy your GitHub, GitLab or Bitbucket projects automatically on Git push events or webhooks using this small HTTP server written in Python. Continuous deployment in it&#39;s most simple form.</h2>
      <a href="https://github.com/olipo186/Git-Auto-Deploy" class="btn">View on GitHub</a>
      <a href="https://github.com/olipo186/Git-Auto-Deploy/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/olipo186/Git-Auto-Deploy/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="what-is-it" class="anchor" href="#what-is-it" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is it?</h1>

<p>Git-Auto-Deploy consists of a small HTTP server that listens for Web hook requests sent from GitHub, GitLab or Bitbucket servers. This application allows you to continuously and automatically deploy your projects each time you push new commits to your repository.</p>

<p><img src="https://cloud.githubusercontent.com/assets/1056476/9344294/d3bc32a4-4607-11e5-9a44-5cd9b22e61d9.png" alt="workflow"></p>

<h1>
<a id="how-does-it-work" class="anchor" href="#how-does-it-work" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How does it work?</h1>

<p>When commits are pushed to your Git repository, the Git server will notify <code>Git-Auto-Deploy</code> by sending a HTTP POST request with a JSON body to a pre configured URL (your-host:8001). The JSON body contains detailed information about the repository and what event that triggered the request. <code>Git-Auto-Deploy</code> parses and validates the request, and if all goes well it issues a <code>git pull</code>.</p>

<p>Additionally, <code>Git-Auto-Deploy</code> can be configured to execute a shell command upon each successful <code>git pull</code>, which can be used to trigger custom build actions or test scripts.</p>

<h1>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting started</h1>

<h2>
<a id="install-from-repository-recommended" class="anchor" href="#install-from-repository-recommended" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install from repository (recommended)</h2>

<p>When installing <code>Git-Auto-Deploy</code> from the repository, you'll need to make sure that Python (tested on version 2.7) and Git (tested on version 2.5.0) is installed on your system.</p>

<p>Clone the repository and go into the repository root</p>

<pre><code>git clone https://github.com/olipo186/Git-Auto-Deploy.git
cd Git-Auto-Deploy
</code></pre>

<p>Make a copy of the sample configuration file and modify it to match your project setup. <a href="https://github.com/olipo186/Git-Auto-Deploy/blob/master/docs/Configuration.md">Read more about the configuration options</a>.</p>

<pre><code>cp config.json.sample config.json
</code></pre>

<p><em>Tip:</em> Make sure that the path specified in <code>pidfilepath</code> is writable for the user running the script, as well as any other path configured for your repositories.</p>

<p>Run the application my invoking <code>python</code> and referencing the <code>gitautodeploy</code> module (the directory <code>Git-Auto-Deploy/gitautodeploy</code>).</p>

<pre><code>python gitautodeploy
</code></pre>

<p>To start <code>Git-Auto-Deploy</code> automatically after a reboot, you can use crontab. Open crontab in edit mode using <code>crontab -e</code> and add the entry below.</p>

<pre><code>@reboot /usr/bin/python /path/to/Git-Auto-Deploy/gitautodeploy --daemon-mode --quiet --config /path/to/git-auto-deploy.conf.json
</code></pre>

<p><em>Tip:</em> You can also configure <code>Git-Auto-Deploy</code> to start automatically using a init.d-script (for Debian and Sys-V like init systems) or a service for systemd. <a href="./docs/Start%20automatically%20on%20boot.md">Read more about starting Git-Auto-Deploy automatically using init.d or systemd</a>.</p>

<h2>
<a id="install-from-ppa-recommended-for-debian-systems" class="anchor" href="#install-from-ppa-recommended-for-debian-systems" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install from PPA (recommended for debian systems)</h2>

<p>Add our PPA repository</p>

<pre><code>sudo add-apt-repository ppa:olipo186/git-auto-deploy
sudo apt-get update
</code></pre>

<p>Install <code>Git-Auto-Deploy</code> using apt</p>

<pre><code>sudo apt-get install git-auto-deploy
</code></pre>

<p>Modify the configuration file to match your project setup. <a href="https://github.com/olipo186/Git-Auto-Deploy/blob/master/docs/Configuration.md">Read more about the configuration options</a>.</p>

<pre><code>nano /etc/git-auto-deploy.conf.json
</code></pre>

<p>Start <code>Git-Auto-Deploy</code> and check it's status</p>

<pre><code>service git-auto-deploy start
service git-auto-deploy status
</code></pre>

<h2>
<a id="alternative-installation-methods" class="anchor" href="#alternative-installation-methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Alternative installation methods</h2>

<ul>
<li><a href="./docs/Install%20as%20a%20python%20module.md">Install as a python module (experimental)</a></li>
<li><a href="./docs/Install%20as%20a%20debian%20package.md">Install as a debian package (experimental)</a></li>
<li><a href="./docs/Start%20automatically%20on%20boot.md">Start automatically on boot (init.d and systemd)</a></li>
</ul>

<h2>
<a id="command-line-options" class="anchor" href="#command-line-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Command line options</h2>

<p>Below is a summarized list of the most common command line options. For a full list of available command line options, invoke the application with the argument <code>--help</code> or read the documentation article about <a href="https://github.com/olipo186/Git-Auto-Deploy/blob/master/docs/Configuration.md">all available command line options, environment variables and config attributes</a>.</p>

<table>
<thead>
<tr>
<th>Command line option</th>
<th>Environment variable</th>
<th>Config attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--daemon-mode (-d)</td>
<td>GAD_DAEMON_MODE</td>
<td></td>
<td>Run in background (daemon mode)</td>
</tr>
<tr>
<td>--quiet (-q)</td>
<td>GAD_QUIET</td>
<td></td>
<td>Supress console output</td>
</tr>
<tr>
<td>--config (-c) </td>
<td>GAD_CONFIG</td>
<td></td>
<td>Custom configuration file</td>
</tr>
<tr>
<td>--pid-file </td>
<td>GAD_PID_FILE</td>
<td>pidfilepath</td>
<td>Specify a custom pid file</td>
</tr>
<tr>
<td>--log-file </td>
<td>GAD_LOG_FILE</td>
<td>logfilepath</td>
<td>Specify a log file</td>
</tr>
<tr>
<td>--host </td>
<td>GAD_HOST</td>
<td>host</td>
<td>Address to bind to</td>
</tr>
<tr>
<td>--port </td>
<td>GAD_PORT</td>
<td>port</td>
<td>Port to bind to</td>
</tr>
</tbody>
</table>

<h2>
<a id="getting-webhooks-from-git" class="anchor" href="#getting-webhooks-from-git" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting webhooks from git</h2>

<p>To make your git provider send notifications to <code>Git-Auto-Deploy</code> you will need to provide the hostname and port for your <code>Git-Auto-Deploy</code> instance. Instructions for the most common git providers is listed below.</p>

<p><strong>GitHub</strong>
1. Go to your repository -&gt; Settings -&gt; Webhooks and Services -&gt; Add webhook
2. In "Payload URL", enter your hostname and port (your-host:8001)
3. Hit "Add webhook"</p>

<p><strong>GitLab</strong>
1. Go to your repository -&gt; Settings -&gt; Web hooks
2. In "URL", enter your hostname and port (your-host:8001)
3. Hit "Add Web Hook"</p>

<p><strong>Bitbucket</strong>
1. Go to your repository -&gt; Settings -&gt; Webhooks -&gt; Add webhook
2. In "URL", enter your hostname and port (your-host:8001)
3. Hit "Save"</p>

<h1>
<a id="more-documentation" class="anchor" href="#more-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More documentation</h1>

<p><a href="./docs">Have a look in the <em>docs</em> directory</a>, where you'll find more detailed documentation on configurations, alternative installation methods and example workflows.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/olipo186/Git-Auto-Deploy">Git-Auto-Deploy</a> is maintained by <a href="https://github.com/olipo186">olipo186</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
